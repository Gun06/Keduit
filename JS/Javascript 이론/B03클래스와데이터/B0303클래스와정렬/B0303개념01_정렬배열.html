<script>

    
   
    let arr = [
        {"num" : 1001,  "name" : "김철수", "math" : 10, "eng" : 20, "kor" : 30},
        {"num" : 1002,  "name" : "박민정", "math" : 40, "eng" : 60, "kor" : 10},
        {"num" : 1003,  "name" : "이상아", "math" : 15, "eng" : 10, "kor" : 50},
        {"num" : 1004,  "name" : "조민수", "math" : 16, "eng" : 40, "kor" : 20}
    ];

    /*
        json 자체로는 정렬이 없고, 배열에서 정렬이 가능하다. 
        배열과 같으므로, 기존의 정렬에서 속성값만 잘지정해주면된다. 
        국어 점수가 높은순서대로 내림차순정렬.
    */

    /*
1003 이상아 50 10 15 75 25.00 false
1001 김철수 30 20 10 60 20.00 false
1004 조민수 20 40 16 76 25.33 false
1002 박민정 10 60 40 110 36.67 true
        
    */
    class Student{
        num = 0;
        name = "";
        kor = 0;
        eng = 0;
        math = 0;
        total = 0;
        avg = 0;
        pass = false;
    }
    let studentList = [];

    for(let i=0; i<arr.length; i++) {
        let student = new Student();
        student.num = arr[i]["num"];
        student.name = arr[i]["name"];
        student.kor = arr[i]["kor"];
        student.eng = arr[i]["eng"];
        student.math = arr[i]["math"];
        
        let total = arr[i]["math"] + arr[i]["eng"] + arr[i]["kor"];
        let avg = total / 3;


        student.total  = total;
        student.avg = avg.toFixed(2);
        if(student.avg >= 30) {
            student.pass = true;
        } else {
            student.pass = false;
        }

        studentList.push(student);
    }

  





    studentList.sort((a, b) => {
            if(a.kor < b.kor){
                return 1;
            }else if(a.kor > b.kor){
                return -1;
            }else{
                return 0;
            }            
        });

        for(let i = 0; i < studentList.length; i++){
            document.write(studentList[i].num + " ");
            document.write(studentList[i].name + " ");
            document.write(studentList[i].kor + " ");
            document.write(studentList[i].eng + " ");
            document.write(studentList[i].math + " ");
            document.write(studentList[i].total + " ");
            document.write(studentList[i].avg + " ");
            document.write(studentList[i].pass + "<br/> ");
    }
   

</script>